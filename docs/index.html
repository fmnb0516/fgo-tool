<!doctype html>
<html lang="ja">

<head>
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=yes,maximum-scale=5">
    <meta charset="UTF-8">
    <title>FGO TOOL</title>

    <link rel="icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="resources/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="resources/jquery-ui-1.12.1/jquery-ui.min.css">

    <script type="text/javascript">
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(function () {
                    console.log('Service worker registered!');
                });
        }
    </script>
</head>

<body>

    <div class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
        <div class="container">
            <a href="#" class="navbar-brand">FGO TOOL</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#list">サーヴァント一覧</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#calc">FGO 獲得NP計算機</a>
                    </li>
                </ul>

            </div>
        </div>
    </div>

    <div class="container" style="padding-top: 70px;" id="container">
    </div>

    <script type="text/x-handlebars" id="template-calc-page">
        <div id="atackerContainer" class="row"
            style="border: 1px solid #f0f0f0;border-radius: 0.25rem;position: relative;">
            <div style="position: absolute;top: -10px;left: 10px;">
                <span class="badge badge-primary" style="cursor: pointer">アタッカー</span>
            </div>

            <div style="position: absolute;top: -10px;right: 10px;">
                <button id="clearnBtn" type="button" class="btn btn-primary btn-sm">クリア</button>
            </div>

            <div class="col-lg-12" style="padding-top: 10px;">
                <div class="form-group">
                    <label for="name-input">名称</label>
                    <input autocomplete="off" type="text" class="form-control" id="target-servant-input" value="{{servantinput}}">
                    <small class="form-text text-muted">
                        NP計算対象のサーヴァント名を入力してください
                        <br />
                        入力に応じて候補がサジェスト表示されます。
                    </small>
                </div>
            </div>

            <div class="col-lg-12" style="margin-bottom: 10px;">
                <button type="button" class="btn btn-primary btn-sm toggle-btn"
                    data-target="#visbasic">基本データ</button>
                <small class="form-text text-muted">
                    対象サーヴァントのATK,スキルの使用可否等の基本データを表示します。
                </small>
            </div>

            <div class="col-lg-12" id="visbasic" style="{{visible data.ui.visbasic}}">
                <div class="row" style="padding: 15px;">
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label for="level-input">Lv</label>
                                    <select class="form-control" id="level-input">
                                        {{#each status}}
                                        <option {{selected}} atk="{{atk}}" value="{{level}}">{{level}}</option>
                                        {{/each}}
                                    </select>
                                    <small class="form-text text-muted">
                                        選択したレベルに応じてATKが切り替わります
                                    </small>
                                </div>
                            </div>

                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label for="atk-input">ATK</label>
                                    <input readonly id="atk-input" type="number" class="form-control" value="{{data.target.atk}}">
                                    <small class="form-text text-muted">
                                        サーヴァントのATKを入力してください
                                    </small>
                                </div>
                            </div>
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label for="for-atk-input">フォウくん(atk)</label>
                                    <input id="for-atk-input" type="number" class="form-control" value="{{data.target.fou}}">
                                    <small class="form-text text-muted">
                                        フォウくんで追加されるATKを入力してください
                                    </small>
                                </div>
                            </div>

                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label for="hogu-lv-input">宝具Lv</label>
                                    <select class="form-control" id="hogu-lv-input">
                                        <option value="1" {{selected '1' data.target.hlv}}>lv1</option>
                                        <option value="2" {{selected '2' data.target.hlv}}>lv2</option>
                                        <option value="3" {{selected '3' data.target.hlv}}>lv3</option>
                                        <option value="4" {{selected '4' data.target.hlv}} >lv4</option>
                                        <option value="5" {{selected '5' data.target.hlv}}>lv5</option>
                                    </select>
                                    <small class="form-text text-muted">
                                        宝具レベルを選択してください
                                    </small>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group">
                                    <label for="hogu-oc-input">宝具OC</label>
                                    <select class="form-control" id="hogu-oc-input">
                                        <option value="1" {{selected '1' data.target.hoc}}>oc1</option>
                                        <option value="2" {{selected '2' data.target.hoc}}>oc2</option>
                                        <option value="3" {{selected '3' data.target.hoc}}>oc3</option>
                                        <option value="4" {{selected '4' data.target.hoc}}>oc4</option>
                                        <option value="5" {{selected '5' data.target.hoc}}>oc5</option>
                                    </select>
                                    <small class="form-text text-muted">
                                        宝具のOCを選択してください
                                    </small>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label for="target-skill1-lv-input">スキル1Lv</label>
                                    <select class="form-control" id="target-skill1-lv-input">
                                        <option value=""   {{selected '' data.target.skill1}}>使用しない</option>
                                        <option value="1"  {{selected '1' data.target.skill1}}>lv1</option>
                                        <option value="2"  {{selected '2' data.target.skill1}}>lv2</option>
                                        <option value="3"  {{selected '3' data.target.skill1}}>lv3</option>
                                        <option value="4"  {{selected '4' data.target.skill1}}>lv4</option>
                                        <option value="5"  {{selected '5' data.target.skill1}}>lv5</option>
                                        <option value="6"  {{selected '6' data.target.skill1}}>lv6</option>
                                        <option value="7"  {{selected '7' data.target.skill1}}>lv7</option>
                                        <option value="8"  {{selected '8' data.target.skill1}}>lv8</option>
                                        <option value="9"  {{selected '9' data.target.skill1}}>lv9</option>
                                        <option value="10" {{selected '10' data.target.skill1}}>lv10</option>
                                    </select>
                                    <small class="form-text text-muted" id="target-skill1-lv-name">{{skillLabel.s1}}</small>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label for="target-skill2-lv-input">スキル2Lv</label>
                                    <select class="form-control" id="target-skill2-lv-input">
                                        <option value=""   {{selected '' data.target.skill2}}>使用しない</option>
                                        <option value="1"  {{selected '1' data.target.skill2}}>lv1</option>
                                        <option value="2"  {{selected '2' data.target.skill2}}>lv2</option>
                                        <option value="3"  {{selected '3' data.target.skill2}}>lv3</option>
                                        <option value="4"  {{selected '4' data.target.skill2}}>lv4</option>
                                        <option value="5"  {{selected '5' data.target.skill2}}>lv5</option>
                                        <option value="6"  {{selected '6' data.target.skill2}}>lv6</option>
                                        <option value="7"  {{selected '7' data.target.skill2}}>lv7</option>
                                        <option value="8"  {{selected '8' data.target.skill2}}>lv8</option>
                                        <option value="9"  {{selected '9' data.target.skill2}}>lv9</option>
                                        <option value="10" {{selected '10' data.target.skill2}}>lv10</option>
                                    </select>
                                    <small class="form-text text-muted" id="target-skill2-lv-name">{{skillLabel.s2}}</small>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label for="target-skill3-lv-input">スキル3Lv</label>
                                    <select class="form-control" id="target-skill3-lv-input">
                                        <option value=""   {{selected '' data.target.skill3}}>使用しない</option>
                                        <option value="1"  {{selected '1' data.target.skill3}}>lv1</option>
                                        <option value="2"  {{selected '2' data.target.skill3}}>lv2</option>
                                        <option value="3"  {{selected '3' data.target.skill3}}>lv3</option>
                                        <option value="4"  {{selected '4' data.target.skill3}}>lv4</option>
                                        <option value="5"  {{selected '5' data.target.skill3}}>lv5</option>
                                        <option value="6"  {{selected '6' data.target.skill3}}>lv6</option>
                                        <option value="7"  {{selected '7' data.target.skill3}}>lv7</option>
                                        <option value="8"  {{selected '8' data.target.skill3}}>lv8</option>
                                        <option value="9"  {{selected '9' data.target.skill3}}>lv9</option>
                                        <option value="10" {{selected '10' data.target.skill3}}>lv10</option>
                                    </select>
                                    <small class="form-text text-muted" id="target-skill3-lv-name">{{skillLabel.s3}}</small>
                                </div>
                            </div>

                            <div class="col-lg-12">
                                <small class="form-text text-muted">
                                    ※「名称」にて表示された候補サーヴァントを選択することでデータが自動で補間されます
                                </small>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-lg-12" style="margin-bottom: 10px;">
                <button type="button" class="btn btn-primary btn-sm toggle-btn" data-target="#visdetail">詳細</button>
                <small class="form-text text-muted">
                    対象サーヴァントのその他データを表示します。<br />一部データは編集不可です。
                </small>
            </div>

            <div class="col-lg-12" id="visdetail" style="{{visible data.ui.visdetail}}">
                <div class="row" style="padding: 15px;">
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="na-input">N/A</label>
                            <input readonly id="na-input" type="number" class="form-control" value="{{hidden.na}}">
                            <small class="form-text text-muted">NP効率</small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="hit-input">ヒット数</label>
                            <input readonly type="number" class="form-control" id="hit-input" value="{{hidden.hit}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="card-input">Card</label>
                            <select disabled class="form-control" id="card-input">
                                <option value=""  {{selected '' hidden.card}}></option>
                                <option value="a" {{selected 'a' hidden.card}}>Arts</option>
                                <option value="b" {{selected 'b' hidden.card}}>Buster</option>
                                <option value="q" {{selected 'q' hidden.card}}>Quick</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="hogu-type-input">宝具種別</label>
                            <select disabled class="form-control" id="hogu-type-input">
                                <option value="" {{selected '' hidden.hogu}}></option>
                                <option value="support" {{selected 'support' hidden.hogu}}>補助宝具</option>
                                <option value="all" {{selected 'all' hidden.hogu}}>全体宝具</option>
                                <option value="single" {{selected 'single' hidden.hogu}}>単体宝具</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-np-buf-input">NP獲得量バフ</label>
                            <input readonly id="target-np-buf-input" type="text" class="form-control" value="{{atackerbuf.npbuf}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-np-get-input">ターン後NP獲得</label>
                            <input readonly id="target-np-get-input" type="text" class="form-control" value="{{atackerbuf.npget}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-tenchizin-input">天地人</label>
                            <select disabled class="form-control" id="target-tenchizin-input">
                                <option value="ten"   {{selected 'ten' hidden.tenchizin}}>天</option>
                                <option value="chi"   {{selected 'chi' hidden.tenchizin}}>地</option>
                                <option value="hito"  {{selected 'hito' hidden.tenchizin}}>人</option>
                                <option value="hoshi" {{selected 'hoshi' hidden.tenchizin}}>星</option>
                                <option value="juu"   {{selected 'juu' hidden.tenchizin}}>獣</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="tokkou-enable-input">特攻宝具</label>
                            <select class="form-control" id="tokkou-enable-input">
                                <option value="y" {{selected 'y' data.target.tokkou}}>あり</option>
                                <option value="n" {{selected 'n' data.target.tokkou}}>なし</option>
                            </select>
                            <small class="form-text text-muted">
                                宝具ダメージに特攻を反映するか選択します
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-compatibility-input">有利不利</label>
                            <select class="form-control" id="target-compatibility-input">
                                <option value="1.0" {{selected '1.0' data.target.compatibility}}>等倍</option>
                                <option value="2.0" {{selected '2.0' data.target.compatibility}}>2倍</option>
                                <option value="1.5" {{selected '1.5' data.target.compatibility}}>1.5倍</option>
                                <option value="0.5" {{selected '0.5' data.target.compatibility}}>不利</option>
                            </select>
                            <small class="form-text text-muted">
                                敵との相性有利・不利を選択します
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-atk-buf-input">攻バフ・防デバフ</label>
                            <input readonly id="target-atk-buf-input" type="text" class="form-control" value="{{atackerbuf.atkbuf}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-card-buf-input">Cardバフ</label>
                            <input readonly id="target-card-buf-input" type="text" class="form-control" value="{{atackerbuf.cardbuf}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="target-hogu-buf-input">宝具バフ</label>
                            <input readonly id="target-hogu-buf-input" type="text" class="form-control" value="{{ext.margehogubuf}}">
                            <small class="form-text text-muted">その他、特攻バフなど</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <br />

        <div class="row" style="border: 1px solid #f0f0f0;border-radius: 0.25rem;position: relative;">
            <div style="position: absolute;top: -10px;left: 10px;">
                <span class="badge badge-primary" style="cursor: pointer">サポート</span>
            </div>

            <div class="col-lg-12" style="padding-top: 10px;">
                <div class="form-group">
                    <label for="name-input">名称</label>
                    <input autocomplete="off" type="text" class="form-control" id="support-servant-input" value="">
                    <small class="form-text text-muted">
                        サポートサーヴァント名を入力してください
                        <br />
                        入力に応じて候補がサジェスト表示されます。
                    </small>
                </div>
            </div>

            <div class="col-lg-12">
                <div style="padding: 10px; " id="support-box">
                    {{#each data.suppurts}}

                    <div class="row">
                        <div class="col-lg-12">
                            <span id="{{id}}" class="badge badge-dark" style="cursor: pointer;padding: 10px;margin: 3px;"
                                data-no="{{no}}" skill1="{{skill1}}" skill1="{{skill2}}" skill1="{{skill3}}">{{name}}</span>
                            <button style="{{visible visible}}" type="button" class="btn btn-danger btn-sm support-delete-btn" supportid="{{id}}">削除</button>
                        </div>

                        <div class="col-lg-4" style="{{visible visible}}">
                            <div class="form-group">
                                <label>スキル1Lv</label>
                                <select class="form-control support-skill-select" supportid="{{id}}" skillid="skill1">
                                    <option value=""   {{selected ''   skill1}}>使用しない</option>
                                    <option value="v1"  {{selected 'v1'  skill1}}>lv1</option>
                                    <option value="v2"  {{selected 'v2'  skill1}}>lv2</option>
                                    <option value="v3"  {{selected 'v3'  skill1}}>lv3</option>
                                    <option value="v4"  {{selected 'v4'  skill1}}>lv4</option>
                                    <option value="v5"  {{selected 'v5'  skill1}}>lv5</option>
                                    <option value="v6"  {{selected 'v6'  skill1}}>lv6</option>
                                    <option value="v7"  {{selected 'v7'  skill1}}>lv7</option>
                                    <option value="v8"  {{selected 'v8'  skill1}}>lv8</option>
                                    <option value="v9"  {{selected 'v9'  skill1}}>lv9</option>
                                    <option value="v10" {{selected 'v10' skill1}}>lv10</option>
                                </select>
                                <small class="form-text text-muted">{{label1}}</small>
                            </div>
                        </div>
                        <div class="col-lg-4" style="{{visible visible}}">
                            <div class="form-group">
                                <label>スキル2Lv</label>
                                <select class="form-control support-skill-select" supportid="{{id}}" skillid="skill2">
                                    <option value=""   {{selected ''   skill2}}>使用しない</option>
                                    <option value="1"  {{selected 'v1'  skill2}}>lv1</option>
                                    <option value="2"  {{selected 'v2'  skill2}}>lv2</option>
                                    <option value="3"  {{selected 'v3'  skill2}}>lv3</option>
                                    <option value="4"  {{selected 'v4'  skill2}}>lv4</option>
                                    <option value="5"  {{selected 'v5'  skill2}}>lv5</option>
                                    <option value="6"  {{selected 'v6'  skill2}}>lv6</option>
                                    <option value="7"  {{selected 'v7'  skill2}}>lv7</option>
                                    <option value="8"  {{selected 'v8'  skill2}}>lv8</option>
                                    <option value="9"  {{selected 'v9'  skill2}}>lv9</option>
                                    <option value="10" {{selected 'v10' skill2}}>lv10</option>
                                </select>
                                <small class="form-text text-muted">{{label2}}</small>
                            </div>
                        </div>
                        <div class="col-lg-4" style="{{visible visible}}">
                            <div class="form-group">
                                <label>スキル3Lv</label>
                                <select class="form-control support-skill-select" supportid="{{id}}" skillid="skill3">
                                    <option value=""   {{selected ''   skill3}}>使用しない</option>
                                    <option value="1"  {{selected 'v1'  skill3}}>lv1</option>
                                    <option value="2"  {{selected 'v2'  skill3}}>lv2</option>
                                    <option value="3"  {{selected 'v3'  skill3}}>lv3</option>
                                    <option value="4"  {{selected 'v4'  skill3}}>lv4</option>
                                    <option value="5"  {{selected 'v5'  skill3}}>lv5</option>
                                    <option value="6"  {{selected 'v6'  skill3}}>lv6</option>
                                    <option value="7"  {{selected 'v7'  skill3}}>lv7</option>
                                    <option value="8"  {{selected 'v8'  skill3}}>lv8</option>
                                    <option value="9"  {{selected 'v9'  skill3}}>lv9</option>
                                    <option value="10" {{selected 'v10' skill3}}>lv10</option>
                                </select>
                                <small class="form-text text-muted">{{label3}}</small>
                            </div>
                        </div>

                        <div class="col-lg-12" style="{{visible visible}}">
                            {{#each tags}}
                            <span style="margin: 5px;" class="badge badge-primary">{{this}}</span>
                            {{/each}}
                        </div>
                    </div>

                    {{/each}}
                </div>

                <small class="form-text text-muted">
                    ※サポートサーヴァントの状態(スキルLv,使用可否)を編集する場合、
                    対象のサーヴァント名のラベルを押下します
                    <br /><br />
                </small>
            </div>
        </div>

        <br />

        <div class="row" style="border: 1px solid #f0f0f0;border-radius: 0.25rem;position: relative;">
            <div style="position: absolute;top: -10px;left: 10px;">
                <span class="badge badge-primary" style="cursor: pointer">その他</span>
            </div>

            <div class="col-lg-12" style="height: 15px;"></div>

            <div class="col-lg-2">
                <div class="form-group">
                    <label for="target-reisou-level">魔術礼装</label>
                    <select class="form-control" id="target-reisou-level">
                        <option value="1"  {{selected '1' data.reisou.lv}}>lv1</option>
                        <option value="2"  {{selected '2' data.reisou.lv}}>lv2</option>
                        <option value="3"  {{selected '3' data.reisou.lv}}>lv3</option>
                        <option value="4"  {{selected '4' data.reisou.lv}}>lv4</option>
                        <option value="5"  {{selected '5' data.reisou.lv}}>lv5</option>
                        <option value="6"  {{selected '6' data.reisou.lv}}>lv6</option>
                        <option value="7"  {{selected '7' data.reisou.lv}}>lv7</option>
                        <option value="8"  {{selected '8' data.reisou.lv}}>lv8</option>
                        <option value="9"  {{selected '9' data.reisou.lv}}>lv9</option>
                        <option value="10" {{selected '10' data.reisou.lv}}>lv10</option>
                    </select>
                    <small class="form-text text-muted">
                        使用する魔術礼装のLvを選択します
                    </small>
                </div>
            </div>

            <div class="col-lg-10">
                <div class="form-group">
                    <label for="target-reisou-input">&nbsp;</label>
                    <select class="form-control" id="target-reisou-input">
                        {{#each reisou}}
                        <option value="{{value}}" {{check}}>{{label}}</option>
                        {{/each}}
                    </select>
                    <small class="form-text text-muted">使用する魔術礼装を選択します</small>
                    <div>
                        {{#each reisouBufTag}}
                        <span style="margin: 5px;" class="badge badge-primary">{{this}}</span>
                        {{/each}}
                    </div>
                </div>
            </div>

            <div class="col-lg-12" style="margin-bottom: 10px;">
                <button type="button" class="btn btn-primary btn-sm toggle-btn"
                    data-target="#visotherbuf">詳細</button>
                <small class="form-text text-muted">
                    手動でその他のバフを編集します
                </small>

            </div>

            <div class="col-lg-12" id="visotherbuf" style="{{visible data.ui.visotherbuf}}">
                <div class="row" style="padding: 15px;">
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-atk-input">ATK(追加)</label>
                            <input id="other-atk-input" type="number" class="form-control" value="{{data.custom.addatk}}">
                            <small class="form-text text-muted">
                                追加するATKを入力してください。(礼装など)
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-np-buf-input">NP獲得量バフ</label>
                            <input id="other-np-buf-input" type="number" class="form-control" value="{{data.custom.npbuf}}">
                            <small class="form-text text-muted">
                                NP獲得量アップの値を入力してください
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-np-get-input">ターン後NP獲得</label>
                            <input id="other-np-get-input" type="number" class="form-control" value="{{data.custom.npget}}">
                            <small class="form-text text-muted">
                                ターン終了時に取得できるNPの値を入力してください
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-card-buf-input">攻バフ・防デバフ</label>
                            <input id="other-atk-buf-input" type="number" class="form-control" value="{{data.custom.atkbuf}}">
                            <small class="form-text text-muted">
                                追加する攻撃バフと防御デバフの総計を入力してください
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-card-buf-input">Cardバフ</label>
                            <input id="other-card-buf-input" type="number" class="form-control" value="{{data.custom.cardbuf}}">
                            <small class="form-text text-muted">
                                追加するカードバフの総計を入力してください
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="other-hogu-buf-input">宝具バフ</label>
                            <input id="other-hogu-buf-input" type="text" class="form-control" value="{{data.custom.hogubuf}}">
                            <small class="form-text text-muted">
                                追加する宝具バフの総計を入力してください
                            </small>
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <small class="form-text text-muted">
                            ※その他、特攻バフなどは宝具バフと合算になります
                        </small>
                    </div>
                </div>
            </div>
        </div>

        <br/>

        <div class="row" style="border: 1px solid #f0f0f0;border-radius: 0.25rem;position: relative;">
            <div style="position: absolute;top: -10px;left: 10px;">
                <span class="badge badge-primary" style="cursor: pointer">計算結果</span>
            </div>

            <div class="col-lg-12" style="padding-top: 20px">
                <div style="padding: 5px;">
                    <span class="badge badge-dark">獲得NP</span>
                </div>
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th scope="col">OverKill</th>
                            <th scope="col">剣/弓/槍(1.0)</th>
                            <th scope="col">術(1.2)</th>
                            <th scope="col">騎(1.1)</th>
                            <th scope="col">殺(0.9)</th>
                            <th scope="col">狂(0.8)</th>
                        </tr>
                    </thead>
                    <tbody id="result-np-data">
                        {{#each npResult}}
                        <tr>
                            <td>{{label}}</td>
                            <td>{{d1}} ({{a1}})</td>
                            <td>{{d2}} ({{a2}})</td>
                            <td>{{d3}} ({{a3}})</td>
                            <td>{{d4}} ({{a4}})</td>
                            <td>{{d5}} ({{a5}})</td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>

            <div class="col-lg-12" style="padding-top: 20px">
                <div style="padding: 5px;">
                    <span class="badge badge-dark">宝具ダメージ</span>
                </div>
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th scope="col">敵属性</th>
                            <th scope="col">最大</th>
                            <th scope="col">中間</th>
                            <th scope="col">最低</th>
                        </tr>
                    </thead>
                    <tbody id="result-damage-data">
                        {{#each damageResult}}
                        <tr>
                            <td>{{label}}</td>
                            <td>{{d1}}</td>
                            <td>{{d2}}</td>
                            <td>{{d3}}</td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>

            <div class="col-lg-12" id="result-buf-data" style="padding: 10px">
                {{#each cumulative}}
                <span style="margin: 5px;" class="badge badge-primary">{{this}}</span>
                {{/each}}
            </div>
        </div>

        <br /><br />
    </script>

    <script type="text/x-handlebars" id="template-list-page">
        <div class="row" class="list-page">
            <div class="col-lg-12">
                <form style="margin-bottom: 10px" id="filter-form">
                    <div class="form-group">
                        <label for="seach-input">フィルタリング</label>
                        <input id="filter-input" autocomplete="off" type="search" class="form-control" value="{{query}}">
                    </div>
                </form>
            </div>
            <div class="col-lg-12">
                <table class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th scope="col">No</th>
                            <th scope="col">クラス</th>
                            <th scope="col">レア度</th>
                            <th scope="col">名称</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each collection}}
                        <tr>
                            <td>{{servant.no}}</td>
                            <td>{{servantClass servant.clazz}}</td>
                            <td>{{servant.rare}}</td>
                            <td><a href="#view${{servant.no}}-{{servantClass servant.clazz}}-{{servant.rare}}-{{servant.name}}.json">{{servant.name}}</a></td>
                        </tr>
                        {{/each}}
                    </tbody>
                </table>
            </div>
        </div>
    </script>

    <script type="text/x-handlebars" id="template-view-page">

        <button type="button" class="btn btn-outline-primary" id="save-btn">保存</button>
        <hr />

        <div class="row">
            <div class="col-lg-4">
                <div class="form-group">
                    <label for="name-input">名称</label>
                    <input type="text" class="form-control" id="name-input" value="{{data.servant.name}}">
                </div>
            </div>

            <div class="col-lg-2">
                <div class="form-group">
                    <label for="no-input">No</label>
                    <input type="text" class="form-control" id="no-input" value="{{data.servant.no}}">
                </div>
            </div>
            <div class="col-lg-2">
                <div class="form-group">
                    <label for="class-input">クラス</label>
                    <select class="form-control" id="class-input"">
                    {{#each constData.servantClass}}
                        <option value=" {{id}}" {{selected id @root.data.servant.clazz}}>{{label}}</option>
                    {{/each}}
                    </select>
                </div>
            </div>
            <div class="col-lg-2">
                <div class="form-group">
                    <label for="rare-input">レア度</label>
                    <input type="text" class="form-control" id="rare-input" value="{{data.servant.rare}}">
                </div>
            </div>
            <div class="col-lg-2">
                <div class="form-group">
                    <label for="cost-input">コスト</label>
                    <input type="text" class="form-control" id="cost-input" value="{{data.servant.cost}}">
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                コマンドカード
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-12"><span class="badge badge-primary">Arts</span></div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-arts-count-input">枚数</label>
                            <input type="text" class="form-control" id="command-arts-count-input"
                                value="{{data.card.arts.count}}">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-arts-hit-input">ヒット数</label>
                            <input type="text" class="form-control" id="command-arts-hit-input"
                                value="{{data.card.arts.hit}}">
                        </div>
                    </div>

                    <div class="col-lg-12"><span class="badge badge-success">Quick</span></div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-quick-count-input">枚数</label>
                            <input type="text" class="form-control" id="command-quick-count-input"
                                value="{{data.card.quick.count}}">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-quick-hit-input">ヒット数</label>
                            <input type="text" class="form-control" id="command-quick-hit-input"
                                value="{{data.card.quick.hit}}">
                        </div>
                    </div>

                    <div class="col-lg-12"><span class="badge badge-danger">Buster</span></div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-buster-count-input">枚数</label>
                            <input type="text" class="form-control" id="command-buster-count-input"
                                value="{{data.card.buster.count}}">
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="command-buster-hit-input">ヒット数</label>
                            <input type="text" class="form-control" id="command-buster-hit-input"
                                value="{{data.card.buster.hit}}">
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="row">
            <div class="col-lg-12">
                ステータス &nbsp;&nbsp;
                <button type="button" class="btn btn-primary" id="add-status-btn">追加</button>

                <br /><br />
                <div id="status-container">
                    {{#each data.status}}
                    <div class="row alert alert-dismissible alert-secondary delete-entry" style="padding: 10px;">
                        <div style="position: absolute;right: 5px;top: -15px;">
                            <button type="button" class="btn btn-danger btn-sm delete-entry-btn">削除</button>
                        </div>
                        
                        <div class="col-lg-2">
                            <div class="form-group">
                                <label>Level</label>
                                <input type="text" class="form-control status-lv-input" value="{{level}}">
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="form-group">
                                <label>HP</label>
                                <input type="text" class="form-control status-hp-input" value="{{hp}}">
                            </div>
                        </div>
                        <div class="col-lg-5">
                            <div class="form-group">
                                <label>ATK</label>
                                <input type="text" class="form-control status-atk-input" value="{{atk}}">
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                隠しステータス
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="tenchizin-input">相性</label>
                            <select class="form-control" id="tenchizin-input">
                                {{#each constData.tenchizin}}
                                <option value="{{id}}" {{selected id @root.data.servant.tenchizin}}>{{label}}</option>
                                {{/each}}
                            </select>
                        </div>
                    </div>


                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="input-na">N/A</label>
                            <input id="input-na" type="text" class="form-control" value="{{data.hidden.na}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="input-star-occurrence">スター発生率</label>
                            <input id="input-star-occurrence" type="text" class="form-control"
                                value="{{data.hidden.staroccurrence}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="input-star-collection">スター集中度</label>
                            <input id="input-star-collection" type="text" class="form-control"
                                value="{{data.hidden.starcollection}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="input-dr">DR</label>
                            <input id="input-dr" type="text" class="form-control" value="{{data.hidden.dr}}">
                        </div>
                    </div>

                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="input-nd">ND</label>
                            <input id="input-nd" type="text" class="form-control" value="{{data.hidden.nd}}">
                        </div>
                    </div>

                    <div class="col-lg-12">
                        <label for="input-tag">属性</label>
                        &nbsp;&nbsp;
                        <button type="button" class="btn btn-primary btn-sm" id="add-tag-btn">追加</button>

                        <div style="padding: 5px" id="tag-container">
                            {{#each data.hidden.tag}}
                            <input class="tag-input" style="width: 100px;margin-left: 5px;margin-bottom: 5px;" type="text" value="{{this}}">
                            {{/each}}
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                クラススキル &nbsp;&nbsp;
                <button type="button" class="btn btn-primary btn-sm" id="class-skill-add-btn">追加</button>

                <div class="row" id="class-skill-container" style="padding: 10px;">
                    {{#each data.classskill}}
                    
                    <div class="col-lg-12 classskill-entry" style="margin-bottom: 25px;">
                        <div class="card border-primary delete-entry">
                            <div class="card-header">
                                <button type="button" class="btn btn-danger btn-sm delete-entry-btn"
                                    style="position: absolute;right: 5px;top: -15px;">削除</button>
                                <input type="text" class="form-control classkill-name-input" value={{name}}>
                            </div>  
                            <div class="card-body table-responsive">
                                <table class="table table-hover text-nowrap">
                                    <thead>
                                        <tr>
                                            <th>種別</th>
                                            <th>倍率</th>
                                            <th>説明文</th>
                                            <th>操作</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    {{#each effect}}
                                    <tr>
                                        <td>
                                            <select class="skill-type-input" style="width: 150px;">
                                            {{fgo-buf-type-option type}}
                                            </select>
                                        </td>
                                        <td>
                                            <input type="text" class="magnification-input" value="{{magnification}}" style="width: 50px;">
                                        </td>
                                        <td>
                                            <input type="text" class="desc-input" value="{{desc}}" style="width: 300px;">
                                        </td>
                                        <td>
                                            <button type="button" class="btn btn-danger btn-sm delete-row-btn">削除</button>
                                        </td>
                                    </tr>
                                    {{/each}}
                                    </tbody>
                                </table>
                                <button type="button" class="btn btn-primary btn-sm class-skill-effect-add-btn">追加</button>
                            </div>    
                        </div>
                    </div>

                    {{/each}}
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                スキル1
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-9">
                        <div class="form-group">
                            <label for="skill-1-name-input">名称</label>
                            <input type="text" class="form-control" id="skill-1-name-input"
                                value="{{data.skill1.name}}">
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label for="skill-1-ct-input">CT</label>
                            <input type="text" class="form-control" id="skill-1-ct-input" value="{{data.skill1.ct}}">
                        </div>
                    </div>
                    <div class="col-lg-12 skill-effect-entry table-responsive">
                        <table class="table text-nowrap">
                            <thead>
                                <tr>
                                    <th>種別</th>
                                    <th>ターン</th>
                                    <th>回数</th>
                                    <th>対象</th>
                                    <th>説明文</th>
                                    <th>Lv1</th>
                                    <th>Lv2</th>
                                    <th>Lv3</th>
                                    <th>Lv4</th>
                                    <th>Lv5</th>
                                    <th>Lv6</th>
                                    <th>Lv7</th>
                                    <th>Lv8</th>
                                    <th>Lv9</th>
                                    <th>Lv10</th>
                                    <th>条件</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data.skill1.effects}}
                                <tr>
                                    <td>
                                        <select class="skill-type-input" style="width: 150px;">
                                        {{fgo-buf-type-option type}}
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-tern-input" value="{{tern}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-count-input" value="{{count}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <select class="skill-target-input" value="{{target}}" style="width: 150px;">
                                            <option value="self" {{selected "self" target}}>自身</option>
                                            <option value="other-all" {{selected "other-all" target}}>自身を除く全体</option>
                                            <option value="self-other" {{selected "self-other" target}}>全体</option>
                                            <option value="other-single" {{selected "other-single" target}}>味方単体</option>
                                            <option value="enemy-single" {{selected "enemy-single" target}}>敵単体</option>
                                            <option value="enemy-all" {{selected "enemy-all" target}}>敵全体</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-desc-input" value="{{desc}}" style="width: 300px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val1-input" value="{{v1}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val2-input" value="{{v2}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val3-input" value="{{v3}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val4-input" value="{{v4}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val5-input" value="{{v5}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val6-input" value="{{v6}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val7-input" value="{{v7}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val8-input" value="{{v8}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val9-input" value="{{v9}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val10-input" value="{{v10}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-condition-input" value="{{condition}}" style="width: 150px;">
                                    </td>   
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                        <button type="button" class="btn btn-primary btn-sm skill-effect-add-btn">追加</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                スキル2
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-9">
                        <div class="form-group">
                            <label for="skill-2-name-input">名称</label>
                            <input type="text" class="form-control" id="skill-2-name-input"
                                value="{{data.skill2.name}}">
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label for="skill-1-ct-input">CT</label>
                            <input type="text" class="form-control" id="skill-2-ct-input" value="{{data.skill2.ct}}">
                        </div>
                    </div>
                    <div class="col-lg-12 skill-effect-entry table-responsive">
                        <table class="table text-nowrap">
                            <thead>
                                <tr>
                                    <th>種別</th>
                                    <th>ターン</th>
                                    <th>回数</th>
                                    <th>対象</th>
                                    <th>説明文</th>
                                    <th>Lv1</th>
                                    <th>Lv2</th>
                                    <th>Lv3</th>
                                    <th>Lv4</th>
                                    <th>Lv5</th>
                                    <th>Lv6</th>
                                    <th>Lv7</th>
                                    <th>Lv8</th>
                                    <th>Lv9</th>
                                    <th>Lv10</th>
                                    <th>条件</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data.skill2.effects}}
                                <tr>
                                    <td>
                                        <select class="skill-type-input" style="width: 150px;">
                                        {{fgo-buf-type-option type}}
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-tern-input" value="{{tern}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-count-input" value="{{count}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <select class="skill-target-input" value="{{target}}" style="width: 150px;">
                                            <option value="self" {{selected "self" target}}>自身</option>
                                            <option value="other-all" {{selected "other-all" target}}>自身を除く全体</option>
                                            <option value="self-other" {{selected "self-other" target}}>全体</option>
                                            <option value="other-single" {{selected "other-single" target}}>味方単体</option>
                                            <option value="enemy-single" {{selected "enemy-single" target}}>敵単体</option>
                                            <option value="enemy-all" {{selected "enemy-all" target}}>敵全体</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-desc-input" value="{{desc}}" style="width: 300px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val1-input" value="{{v1}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val2-input" value="{{v2}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val3-input" value="{{v3}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val4-input" value="{{v4}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val5-input" value="{{v5}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val6-input" value="{{v6}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val7-input" value="{{v7}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val8-input" value="{{v8}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val9-input" value="{{v9}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val10-input" value="{{v10}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-condition-input" value="{{condition}}" style="width: 150px;">
                                    </td>   
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                        <button type="button" class="btn btn-primary btn-sm skill-effect-add-btn">追加</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                スキル3
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-9">
                        <div class="form-group">
                            <label for="skill-2-name-input">名称</label>
                            <input type="text" class="form-control" id="skill-3-name-input"
                                value="{{data.skill3.name}}">
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label for="skill-1-ct-input">CT</label>
                            <input type="text" class="form-control" id="skill-3-ct-input" value="{{data.skill3.ct}}">
                        </div>
                    </div>
                    <div class="col-lg-12 skill-effect-entry table-responsive">
                        <table class="table text-nowrap">
                            <thead>
                                <tr>
                                    <th>種別</th>
                                    <th>ターン</th>
                                    <th>回数</th>
                                    <th>対象</th>
                                    <th>説明文</th>
                                    <th>Lv1</th>
                                    <th>Lv2</th>
                                    <th>Lv3</th>
                                    <th>Lv4</th>
                                    <th>Lv5</th>
                                    <th>Lv6</th>
                                    <th>Lv7</th>
                                    <th>Lv8</th>
                                    <th>Lv9</th>
                                    <th>Lv10</th>
                                    <th>条件</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data.skill3.effects}}
                                <tr>
                                    <td>
                                        <select class="skill-type-input" style="width: 150px;">
                                        {{fgo-buf-type-option type}}
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-tern-input" value="{{tern}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-count-input" value="{{count}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <select class="skill-target-input" value="{{target}}" style="width: 150px;">
                                            <option value="self" {{selected "self" target}}>自身</option>
                                            <option value="other-all" {{selected "other-all" target}}>自身を除く全体</option>
                                            <option value="self-other" {{selected "self-other" target}}>全体</option>
                                            <option value="other-single" {{selected "other-single" target}}>味方単体</option>
                                            <option value="enemy-single" {{selected "enemy-single" target}}>敵単体</option>
                                            <option value="enemy-all" {{selected "enemy-all" target}}>敵全体</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="skill-desc-input" value="{{desc}}" style="width: 300px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val1-input" value="{{v1}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val2-input" value="{{v2}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val3-input" value="{{v3}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val4-input" value="{{v4}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val5-input" value="{{v5}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val6-input" value="{{v6}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val7-input" value="{{v7}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val8-input" value="{{v8}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val9-input" value="{{v9}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-val10-input" value="{{v10}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="skill-condition-input" value="{{condition}}" style="width: 150px;">
                                    </td>   
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                        <button type="button" class="btn btn-primary btn-sm skill-effect-add-btn">追加</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="row">
            <div class="col-lg-12">
                宝具
                <div class="row" style="padding: 10px;">
                    <div class="col-lg-6">
                        <div class="form-group">
                            <label for="hogu-name-input">名称</label>
                            <input type="text" class="form-control" id="hogu-name-input" value="{{data.hogu.name}}">
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="hogu-type-input">種別</label>
                            <select class="form-control" id="hogu-type-input">
                                <option value="all" {{selected "all" @root.data.hogu.type}}>全体</option>
                                <option value="single" {{selected "single" @root.data.hogu.type}}>単体</option>
                                <option value="support" {{selected "support" @root.data.hogu.type}}>補助</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="hogu-card-input">カード</label>
                            <select class="form-control" id="hogu-card-input">
                                <option value="a" {{selected "a" @root.data.hogu.card}}>Arts</option>
                                <option value="q" {{selected "q" @root.data.hogu.card}}>Quick</option>
                                <option value="b" {{selected "b" @root.data.hogu.card}}>Buster</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-2">
                        <div class="form-group">
                            <label for="hogu-hit-input">Hit数</label>
                            <input type="text" class="form-control" id="hogu-hit-input" value="{{data.hogu.hit}}">
                        </div>
                    </div>
                    <div class="col-lg-12 table-responsive hogu-effect-entry">
                        <table class="table text-nowrap">
                            <thead>
                                <tr>
                                    <th>種別</th>
                                    <th>ターン</th>
                                    <th>回数</th>
                                    <th>対象</th>
                                    <th>前・後</th>
                                    <th>OC・Lv</th>
                                    <th>説明文</th>
                                    <th>1</th>
                                    <th>2</th>
                                    <th>3</th>
                                    <th>4</th>
                                    <th>5</th>
                                    <th>条件</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each data.hogu.effect}}
                                <tr>
                                    <td>
                                        <select class="hogu-type-input" style="width: 150px;">
                                        {{fgo-buf-type-option type}}
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-tern-input" value="{{tern}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-count-input" value="{{count}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <select class="hogu-target-input" style="width: 150px;">
                                            <option value="self" {{selected "self" target}}>自身</option>
                                            <option value="other-all" {{selected "other-all" target}}>自身を除く全体</option>
                                            <option value="self-other" {{selected "self-other" target}}>全体</option>
                                            <option value="other-single" {{selected "other-single" target}}>味方単体</option>
                                            <option value="enemy-single" {{selected "enemy-single" target}}>敵単体</option>
                                            <option value="enemy-all" {{selected "enemy-all" target}}>敵全体</option>
                                        </select>
                                    </td>
                                    <td>
                                        <select class="hogu-beforeafter-input" style="width: 50px;">
                                            <option value="before" {{selected "before" beforeafter}}>前</option>
                                            <option value="after" {{selected "after" beforeafter}}>後</option>
                                        </select>
                                    </td>
                                    <td>
                                        <select class="hogu-lvoc-input" style="width: 50px;">
                                            <option value="lv" {{selected "lv" lvoc}}>Level</option>
                                            <option value="oc" {{selected "oc" lvoc}}>OC</option>
                                        </select>
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-desc-input" value="{{desc}}" style="width: 300px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-val1-input" value="{{v1}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-val2-input" value="{{v2}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-val3-input" value="{{v3}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-val4-input" value="{{v4}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-val5-input" value="{{v5}}" style="width: 30px;">
                                    </td>
                                    <td>
                                        <input type="text" class="hogu-condition-input" value="{{condition}}" style="width: 150px;">
                                    </td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                        <button type="button" class="btn btn-primary btn-sm hogu-effect-add-btn">追加</button>
                    </div>
                </div>

            </div>
        </div>
    </script>

    <div>
        <script src="resources/jquery/jquery-3.4.1.min.js"></script>
        <script src="resources/jquery-ui-1.12.1/jquery-ui.min.js"></script>
        <script src="resources/bootstrap/js/bootstrap.js"></script>
        <script src="resources/handlebars/handlebars-v4.2.0.js"></script>
        <script src="resources/fgoutil/fgocalc.js"></script>
        <script src="servant.js"></script>

        <script>
            var applications = (function () {
                var appmap = {};

                function rerender(pageid, query) {
                    var a = appmap[pageid];
                    if (a !== undefined) {
                        var html = a.rerender(query);
                        $("#container").html(html).attr("page", pageid);

                        a.rendered(query, $("#container"));
                    }
                };

                function install(install, callback) {
                    appmap[install] = callback();
                };

                return function (a1, a2) {

                    if (arguments.length === 0) {
                        Object.keys(appmap).map(function (k) {
                            return appmap[k];
                        }).forEach(function (app) {
                            app.load();
                        });
                    } else if (typeof a1 === "string" && typeof a2 === "string") {
                        rerender(a1, a2);
                    } else if (typeof a1 === "string" && typeof a2 === "function") {
                        install(a1, a2);
                    }
                };
            })();

            $(function () {
                applications();

                function repage(hash) {
                    hash = hash === "" ? "#calc" : hash.substring(1);
                    var queryPoint = hash.indexOf("$");
                    var query = queryPoint !== -1 ? decodeURI(hash.substring(queryPoint + 1)) : "";
                    var appId = queryPoint !== -1 ? hash.substring(0, queryPoint) : hash;

                    applications(appId, query);
                };

                $(window).on('hashchange', function () {
                    var hash = location.hash;
                    repage(hash);
                });

                (function () {
                    var hash = location.hash;
                    repage(hash);
                })();
            });
        </script>

        <script src="app/list.js"></script>
        <script src="app/calc.js"></script>
        <script src="app/view.js"></script>
    </div>
</body>

</html>